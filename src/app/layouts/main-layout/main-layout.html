<mat-toolbar>
    <button mat-icon-button [style.margin-left]="sidenav.opened ? '260px' : '0'" (click)="sidenav.toggle()" >
        <mat-icon>menu</mat-icon>
    </button>
     
    <div class="notification-bell">
        <button mat-icon-button class="ms-auto" [matMenuTriggerFor]="notificationMenu" matTooltip="Notifications" matTooltipPosition="below">
            <mat-icon [matBadge]="notificationCount" matBadgeColor="warn" [matBadgeHidden]="notificationCount === 0">notifications_active</mat-icon>
        </button>
        <mat-menu #notificationMenu="matMenu" class="notification-menu">
            <div *ngIf="notifications.length > 0" class="notification-list">
                <div *ngFor="let notification of notifications" class="notification-item" [class.unread]="!notification.read" (click)="markAsRead(notification)">
                    <div class="notification-content">
                        <strong>{{ notification.title }}</strong>
                        <p>{{ notification.message }}</p>
                        <small>{{ notification.timestamp | date: 'short' }}</small>
                    </div>
                </div>
                <mat-divider></mat-divider>
                <button mat-menu-item (click)="clearNotifications()" class="clear-btn">
                    Clear All
                </button>
            </div>
            <div *ngIf="notifications.length === 0" class="no-notifications">
                <p>No notifications</p>
            </div>
        </mat-menu>
    </div>
 
    <div class="logout">
        <button mat-icon-button (click)="logout()" class="logout" matTooltip="Logout" matTooltipPosition="below">
            <mat-icon>logout</mat-icon>
        </button>
    </div>
</mat-toolbar>
 
<mat-drawer-container autosize class="main-layout">
    <mat-drawer #sidenav mode="side" opened class="shadow sidebar border-top">
        <app-sidebar></app-sidebar>
    </mat-drawer>
 
    <mat-drawer-content [style.margin-left]="sidenav.opened ? '275px' : '0'">
        <div class="content p-2">
            <router-outlet />
            <!-- <app-support></app-support> -->
        </div>
    </mat-drawer-content>
</mat-drawer-container>