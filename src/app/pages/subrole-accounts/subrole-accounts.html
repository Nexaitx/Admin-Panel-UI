<small>Manage /<span class="highlight"> Sub-Role Accounts</span></small>

<app-common-table [columns]="columns" [formFields]="formFields" [showCreate]="true" [data]="dataSource.data" [showActions]="true" (save)="onTableSave($event)">
</app-common-table>

<!-- <ng-template #userDialogTemplate>
    <h2 mat-dialog-title>{{ isEdit ? 'Edit Staff Account' : 'Create New Staff Account' }}</h2>

    <mat-dialog-content>
        <form [formGroup]="userForm" class="row mt-2">
            <mat-form-field appearance="outline" class="col-12">
                <mat-label>Full Name</mat-label>
                <input matInput formControlName="name" required>
            </mat-form-field>

            <mat-form-field appearance="outline" class="col-md-6">
                <mat-label>Phone Number</mat-label>
                <input matInput formControlName="phoneNumber" required>
            </mat-form-field>

            <mat-form-field appearance="outline" class="col-md-6">
                <mat-label>Email Address</mat-label>
                <input matInput formControlName="email" type="email" required>
            </mat-form-field>

            <mat-form-field appearance="outline" class="col-12">
                <mat-label>Assign Subrole</mat-label>
                <mat-select formControlName="subRoleId" required>
                    <mat-option *ngFor="let role of subRoles" [value]="role.id">
                        {{ role.name }}
                    </mat-option>
                </mat-select>
            </mat-form-field>

            <mat-form-field appearance="outline" class="col-md-6" *ngIf="!isEdit">
                <mat-label>Password</mat-label>
                <input matInput formControlName="password" type="password" required>
                <mat-error *ngIf="userForm.get('password')?.hasError('required')">
                    Password is required.
                </mat-error>
                <mat-error *ngIf="userForm.get('password')?.hasError('minlength')">
                    Password must be at least 8 characters.
                </mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline" class="col-md-6" *ngIf="!isEdit">
                <mat-label>Confirm Password</mat-label>
                <input matInput formControlName="confirmPassword" type="password" required>
                <mat-error *ngIf="userForm.get('confirmPassword')?.hasError('required')">
                    Confirm Password is required.
                </mat-error>
                <mat-error *ngIf="userForm.hasError('passwordMismatch') && userForm.get('confirmPassword')?.touched">
                    Passwords do not match.
                </mat-error>
            </mat-form-field>
        </form>
    </mat-dialog-content>

    <mat-dialog-actions align="end">
        <button mat-button mat-dialog-close>Cancel</button>
        <button mat-raised-button color="primary" [disabled]="userForm.invalid" (click)="onSubmit()">
            {{ isEdit ? 'Update Changes' : 'Create Account' }}
        </button>
    </mat-dialog-actions>
</ng-template> -->