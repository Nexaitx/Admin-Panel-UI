<div class="">
    <div class="scrollableTable">
        <table mat-table [dataSource]="dataSource" class="w-full min-w-[1000px]">

            <!-- ID Column -->
            <ng-container matColumnDef="id" sticky="true">
                <th mat-header-cell *matHeaderCellDef> ID </th>
                <td mat-cell *matCellDef="let element"> {{element.id}} </td>
            </ng-container>

            <!-- Login Selfie Column -->
            <ng-container matColumnDef="loginSelfiePath" sticky="loginSelfiePath">
                <th mat-header-cell *matHeaderCellDef> Selfie </th>
                <td mat-cell *matCellDef="let element">
                    <img *ngIf="element.loginSelfiePath" [src]="getSelfieUrl(element.loginSelfiePath)"
                        alt="Login Selfie"
                        class="w-100 rounded object-cover selfie-small rounded-lg shadow-sm cursor-pointer"
                        (click)="openImage(getSelfieUrl(element.loginSelfiePath))">
                    <span *ngIf="!element.loginSelfiePath">-</span>
                </td>
            </ng-container>

            <!-- Staff Name Column -->
            <ng-container matColumnDef="staffName">
                <th mat-header-cell *matHeaderCellDef> Staff Name </th>
                <td mat-cell *matCellDef="let element"> {{element.staff?.name}} </td>
            </ng-container>

            <!-- Staff Phone Number Column -->
            <ng-container matColumnDef="staffPhoneNumber">
                <th mat-header-cell *matHeaderCellDef> Staff Phone </th>
                <td mat-cell *matCellDef="let element"> {{element.staff?.phoneNumber}} </td>
            </ng-container>

            <!-- User Name Column -->
            <ng-container matColumnDef="userName">
                <th mat-header-cell *matHeaderCellDef> User Name </th>
                <td mat-cell *matCellDef="let element"> {{element.user?.name}} </td>
            </ng-container>

            <!-- User Phone Number Column -->
            <ng-container matColumnDef="userPhoneNumber">
                <th mat-header-cell *matHeaderCellDef> User Phone </th>
                <td mat-cell *matCellDef="let element"> {{element.user?.phoneNumber}} </td>
            </ng-container>

            <!-- Login Time Column -->
            <ng-container matColumnDef="loginTime">
                <th mat-header-cell *matHeaderCellDef> Login Time </th>
                <td mat-cell *matCellDef="let element"> {{element.loginTime | date:'short'}} </td>
            </ng-container>

            <!-- Logout Time Column -->
            <ng-container matColumnDef="logoutTime">
                <th mat-header-cell *matHeaderCellDef> Logout Time </th>
                <td mat-cell *matCellDef="let element"> {{element.logoutTime ? (element.logoutTime | date:'short') :
                    '-'}} </td>
            </ng-container>

            <!-- Latitude Column -->
            <ng-container matColumnDef="latitude">
                <th mat-header-cell *matHeaderCellDef> Latitude </th>
                <td mat-cell *matCellDef="let element"> {{element.latitude}} </td>
            </ng-container>

            <!-- Longitude Column -->
            <ng-container matColumnDef="longitude">
                <th mat-header-cell *matHeaderCellDef> Longitude </th>
                <td mat-cell *matCellDef="let element"> {{element.longitude}} </td>
            </ng-container>

            <ng-container matColumnDef="status">
                <th mat-header-cell *matHeaderCellDef> Status </th>
                <td mat-cell *matCellDef="let element"> {{element.status}} </td>
            </ng-container>

            <ng-container matColumnDef="action" sticky="true">
                <th mat-header-cell *matHeaderCellDef> Action </th>
                <td mat-cell *matCellDef="let element">
                    <button matIconButton aria-label="Example icon button with a vertical three dot icon">
                        <mat-icon>visibility</mat-icon>
                    </button>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="columnsToDisplay; sticky: true"></tr>
            <tr mat-row *matRowDef="let row; columns: columnsToDisplay;"></tr>
        </table>
    </div>

    <div *ngIf="!isLoading && dataSource.data.length === 0" class="p-8 text-center text-gray-500">
        No bookings to display.
    </div>
</div>