<!-- <div>
    <mat-form-field appearance="outline">
        <mat-label>Search bookings</mat-label>
        <input matInput (keyup)="applyFilter($event)" placeholder="e.g. john" #input class="rounded-md">
        <mat-icon matSuffix>search</mat-icon>
    </mat-form-field>
    <div class="scrollableTable overflow-x-auto">
        <table mat-table [dataSource]="dataSource" matSort>
           
            <ng-container matColumnDef="serial_no" sticky="true">
                <th mat-header-cell *matHeaderCellDef>S.No</th>
                <td mat-cell *matCellDef="let element; let i = index">{{i + 1}}</td>
            </ng-container>

            <ng-container matColumnDef="booking_no">
                <th mat-header-cell *matHeaderCellDef>Booking&nbsp;No</th>
                <td mat-cell *matCellDef="let element">{{element.bookingId || element.booking_no || element.bookingNo || '-'}}</td>
            </ng-container>

            <ng-container matColumnDef="shift_date">
                <th mat-header-cell *matHeaderCellDef>Shift&nbsp;Date</th>
                <td mat-cell *matCellDef="let element">{{element.shiftDate ? (element.shiftDate | date:'mediumDate') : (element.startDate ? (element.startDate | date:'mediumDate') : '-')}}</td>
            </ng-container>

            <ng-container matColumnDef="shift_start">
                <th mat-header-cell *matHeaderCellDef>Shift&nbsp;Start</th>
                <td mat-cell *matCellDef="let element">{{`${element.startTimeHour}:${element.startTimeMinute}${element.startTimeAmPm}`}}</td>
            </ng-container>

            <ng-container matColumnDef="shift_end">
                <th mat-header-cell *matHeaderCellDef>Shift&nbsp;End</th>
                <td mat-cell *matCellDef="let element">{{`${element.endTimeHour}:${element.endTimeMinute}${element.endTimeAmPm}`}}</td>
            </ng-container>

            <ng-container matColumnDef="login_time">
                <th mat-header-cell *matHeaderCellDef>Login&nbsp;Time</th>
                <td mat-cell *matCellDef="let element">{{element.loginTime ? (element.loginTime | date:'short') : (element.login_time || '-')}}</td>
            </ng-container>

            <ng-container matColumnDef="logout_time">
                <th mat-header-cell *matHeaderCellDef>Logout&nbsp;Time</th>
                <td mat-cell *matCellDef="let element">{{element.logoutTime ? (element.logoutTime | date:'short') : (element.logout_time || '-')}}</td>
            </ng-container>

            <ng-container matColumnDef="login_selfie">
                <th mat-header-cell *matHeaderCellDef>Login&nbsp;Selfie</th>
                <td mat-cell *matCellDef="let element">
                    <img *ngIf="element.loginSelfiePath || element.login_selfie" 
                        [src]="element.loginSelfiePath || element.login_selfie"
                        alt="Login Selfie"
                        class="w-10 h-10 rounded object-cover cursor-pointer"
                        (click)="openImage(element.loginSelfiePath || element.login_selfie)">
                    <span *ngIf="!element.loginSelfiePath && !element.login_selfie">-</span>
                </td>
            </ng-container>

            <ng-container matColumnDef="logout_selfie">
                <th mat-header-cell *matHeaderCellDef>Logout&nbsp;Selfie</th>
                <td mat-cell *matCellDef="let element">
                    <img *ngIf="element.logoutSelfiePath || element.logout_selfie" 
                        [src]="element.logoutSelfiePath || element.logout_selfie"
                        alt="Logout Selfie"
                        class="w-10 h-10 rounded object-cover cursor-pointer"
                        (click)="openImage(element.logoutSelfiePath || element.logout_selfie)">
                    <span *ngIf="!element.logoutSelfiePath && !element.logout_selfie">-</span>
                </td>
            </ng-container>

            <ng-container matColumnDef="user_name">
                <th mat-header-cell *matHeaderCellDef>User&nbsp;Name</th>
                <td mat-cell *matCellDef="let element">{{element.user?.name || element.userName || element.user_name || '-'}}</td>
            </ng-container>

            <ng-container matColumnDef="staff_name">
                <th mat-header-cell *matHeaderCellDef>Staff&nbsp;Name</th>
                <td mat-cell *matCellDef="let element">{{element.staff?.name || element.staffName || element.staff_name || '-'}}</td>
            </ng-container>

            <ng-container matColumnDef="shift_total_price">
                <th mat-header-cell *matHeaderCellDef>Total&nbsp;Price</th>
                <td mat-cell *matCellDef="let element">â‚¹{{element.shiftTotalPrice || element.shift_total_price || element.price || '-'}}</td>
            </ng-container>

            <ng-container matColumnDef="rating">
                <th mat-header-cell *matHeaderCellDef>Rating</th>
                <td mat-cell *matCellDef="let element">
                    <mat-icon *ngIf="element.rating">star</mat-icon>
                    {{element.rating || '-'}}
                </td>
            </ng-container>

            <ng-container matColumnDef="payout_status">
                <th mat-header-cell *matHeaderCellDef>Payout&nbsp;Status</th>
                <td mat-cell *matCellDef="let element">
                    <span class="px-2 py-1 rounded-full text-xs font-medium" [ngClass]="{
                        'bg-green-100 text-green-800': element.payoutStatus === 'completed' || element.payoutStatus === 'paid',
                        'bg-yellow-100 text-yellow-800': element.payoutStatus === 'pending',
                        'bg-red-100 text-red-800': element.payoutStatus === 'failed',
                        'bg-gray-100 text-gray-800': !element.payoutStatus
                      }">
                        {{element.payoutStatus || element.payout_status || '-'}}
                    </span>
                </td>
            </ng-container>

            <ng-container matColumnDef="status">
                <th mat-header-cell *matHeaderCellDef>Status</th>
                <td mat-cell *matCellDef="let element">
                    <span class="px-2 py-1 rounded-pill text-xs font-medium" [ngClass]="{
                        'bg-green text-green-800': element.status === 'Completed' || element.status === 'accept',
                        'bg-red text-red-800': element.status === 'REJECTED' || element.status === 'reject' || element.status === 'cancelled',
                        'bg-yellow text-yellow-800': element.status === 'pending',
                        'bg-blue text-blue-800': element.status === 'ongoing'
                      }">
                        {{element.status || '-' | titlecase}}
                    </span>
                </td>
            </ng-container>

            <ng-container matColumnDef="actions">
                <th mat-header-cell *matHeaderCellDef>Actions</th>
                <td mat-cell *matCellDef="let element">
                    <button mat-icon-button [matMenuTriggerFor]="actionMenu">
                        <mat-icon>more_vert</mat-icon>
                    </button>
                    <mat-menu #actionMenu="matMenu">
                        <button mat-menu-item>
                            <mat-icon>visibility</mat-icon>
                            <span>Show</span>
                        </button>
                        <button mat-menu-item>
                            <mat-icon>edit</mat-icon>
                            <span>Edit</span>
                        </button>
                    </mat-menu>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="columnsToDisplay; sticky: true"></tr>
            <tr mat-row *matRowDef="let row; columns: columnsToDisplay;" class="hover:bg-gray-100 transition-colors">
            </tr>
        </table>
    </div>
    <mat-paginator [pageSizeOptions]="[10, 25, 100]" aria-label="Select page of bookings"
        class="mt-4 rounded-lg shadow-sm"></mat-paginator>

    <div *ngIf="dataSource.data.length === 0" class="p-8 text-center text-gray-500">
        No bookings to display.
    </div>
</div> -->
<app-common-table [columns]="columnsToDisplay" [data]="dataSource.data"
    [pageSizeOptions]="[10,25,100]" [showCreate]="false">
</app-common-table>

<ng-template #viewDialog>
    <div class="d-flex justify-content-between">
        <div>
            <!-- <h2 mat-dialog-title>{{selectedHeading}}</h2> -->
        </div>
        <div class="m-2">
            <button matIconButton mat-dialog-close><mat-icon>
                    close
                </mat-icon></button>
        </div>
    </div>
    <mat-dialog-content>
        <p>Order Number: 113345</p>
        <table>
            <thead>
                <th>S No.</th>
                <th>Booking ID</th>
                <th>Staff Name</th>
                <th>Customer Name</th>
            </thead>
            <tbody>
                <tr>
                    <td>
                        1
                    </td>
                    <td>
                        BK009879
                    </td>
                    <td>
                        John Doe
                    </td>
                    <td>
                        XYZ
                    </td>
                </tr>

                <tr>
                    <td>
                        1
                    </td>
                    <td>
                        BK009879
                    </td>
                    <td>
                        John Doe
                    </td>
                    <td>
                        XYZ
                    </td>
                </tr>

                <tr>
                    <td>
                        1
                    </td>
                    <td>
                        BK009879
                    </td>
                    <td>
                        John Doe
                    </td>
                    <td>
                        XYZ
                    </td>
                </tr>
            </tbody>
        </table>
    </mat-dialog-content>
    <mat-dialog-actions align="end">
        <button mat-button>Download</button>

        <button mat-flat-button color="primary" (click)="dialog.closeAll()">Print</button>
    </mat-dialog-actions>
</ng-template>