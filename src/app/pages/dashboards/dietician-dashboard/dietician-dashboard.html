<div class="container-fluid py-3">
    <h4 class="semibold mb-0">Welcome Back, {{userProfile?.fullName}}!</h4>
    <p class="text-muted">We're glad to see you again. Here's what's happening in your dashboard:</p>
    <div class="row p-2 mt-3">
        <div class="col-md-4">
            <mat-card class="example-card bg-white shadow" appearance="outlined">
                <mat-card-header>
                    <mat-card-title class="d-flex"> <mat-icon> person_pin</mat-icon> {{role}}</mat-card-title>
                </mat-card-header>
                <hr class="my-0">
                <mat-card-content class="text-muted m-3">
                    <small class="d-flex"><mat-icon> mail_outline</mat-icon>&nbsp;{{userProfile?.email}}</small>

                    <small class="d-flex mt-2"><mat-icon> phone</mat-icon>&nbsp;{{userProfile?.phoneNumber}}</small>
                </mat-card-content>
            </mat-card>
        </div>

        <div class="col-md-4">
            <mat-card class="example-card bg-white shadow" appearance="outlined">
                <mat-card-header>
                    <mat-card-title>Gender Distribution</mat-card-title>
                    <mat-card-subtitle>
                        <small class="text-muted mb-0 mt-1">Onboarded Users by Gender</small>
                    </mat-card-subtitle>
                </mat-card-header>
                <hr class="my-0">
                <mat-card-content>
                    <div id="chart">
                        <apx-chart [series]="chartOptions.series" [chart]="chartOptions.chart"
                            [labels]="chartOptions.labels" [responsive]="chartOptions.responsive"
                            [fill]="chartOptions.fill" [legend]="chartOptions.legend"
                            [dataLabels]="chartOptions.dataLabels" [plotOptions]="chartOptions.plotOptions"></apx-chart>
                    </div>
                </mat-card-content>
            </mat-card>
        </div>

        <div class="col-md-4">
            <mat-card class="example-card bg-white shadow" appearance="outlined">
                <mat-card-header>
                    <mat-card-title>Gender Distribution</mat-card-title>
                    <mat-card-subtitle>
                        <small class="text-muted mb-0 mt-1">Onboarded Users by Gender</small>
                    </mat-card-subtitle>
                </mat-card-header>
                <hr class="my-0">
                <mat-card-content>
                    <div id="chart">
                        <apx-chart [series]="chartCall.series" [chart]="chartCall.chart"
                            [dataLabels]="chartCall.dataLabels" [plotOptions]="chartCall.plotOptions"
                            [yaxis]="chartCall.yaxis" [xaxis]="chartCall.xaxis" [fill]="chartCall.fill"
                            [title]="chartCall.title"></apx-chart>
                    </div>
                </mat-card-content>
            </mat-card>
        </div>



        <div class="col-12 my-3">
            <mat-card class="example-card bg-white shadow" appearance="outlined">
                <mat-card-header class="d-flex justify-content-between">
                    <mat-card-title class="d-flex">Recent Bookings</mat-card-title>
                    <button matButton="tonal" (click)="toggleView()">
                        {{ showAll ? 'Show Less' : 'View All' }}
                    </button>
                </mat-card-header>
                <hr class="my-1">
                <mat-card-content class="text-muted m-3">
                    <table mat-table [dataSource]="dataSource" matSort class="bg-white">
                        <!-- Name Column -->
                        <ng-container matColumnDef="name">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
                            <td mat-cell *matCellDef="let row">{{ row.fullName || 'N/A' }}</td>
                        </ng-container>

                        <!-- Email Column -->
                        <ng-container matColumnDef="email">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Email</th>
                            <td mat-cell *matCellDef="let row">{{ row.email || 'N/A' }}</td>
                        </ng-container>

                        <!-- Phone Column -->
                        <ng-container matColumnDef="phone">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Phone</th>
                            <td mat-cell *matCellDef="let row">{{ row.phoneNumber || 'N/A' }}</td>
                        </ng-container>

                        <!-- Status Column -->
                        <ng-container matColumnDef="status">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
                            <td mat-cell *matCellDef="let row">{{ row.status || 'N/A' }}</td>
                        </ng-container>

                        <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

                        <tr class="mat-row" *matNoDataRow>
                            <td class="mat-cell" [attr.colspan]="displayedColumns.length">No recent bookings found</td>
                        </tr>
                    </table>
                </mat-card-content>
            </mat-card>
        </div>
    </div>
</div>