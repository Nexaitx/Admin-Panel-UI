<div class="container-fluid py-3">
    <div class="ps-2">
        <h4 class="semibold mb-0">Welcome Back, {{userProfile?.fullName}}!</h4>
        <p class="text-muted">We're glad to see you again. Here's what's happening in your dashboard:</p>
    </div>
    <div class="row p-2 mt-3">
        <!-- Personal Info Card -->
        <div class="col-md-4 d-none">
            <mat-card class="example-card bg-white shadow h-auto" appearance="outlined">
                <mat-card-header>
                    <mat-card-title class="d-flex">
                        <mat-icon> person_pin</mat-icon>
                        {{userProfile?.role?.roleType}}
                    </mat-card-title>
                    <mat-card-subtitle>
                        <small class="text-muted mb-0 mt-1">Personal Info</small>
                    </mat-card-subtitle>
                </mat-card-header>
                <hr class="mb-0">
                <mat-card-content class="text-muted m-1">
                    <small class="d-flex"><mat-icon> mail_outline</mat-icon>&nbsp;{{myAccount?.email || 'My
                        Email'}}</small>
                    <small class="d-flex"><mat-icon> phone</mat-icon>&nbsp;{{myAccount?.phoneNumber || 'My Phone
                        Number'}}</small>
                    <small class="d-flex"><mat-icon> add_moderator</mat-icon>&nbsp;{{myAccount?.pan ? 'PAN India' :
                        'Specific State/ City' }}</small>
                </mat-card-content>
            </mat-card>
        </div>

        <!-- Radial Bar Chart for Medicine Counts -->
        <div class="col-md-6 mb-2">
            <mat-card class="example-card bg-white shadow h-100" appearance="outlined">
                <mat-card-header>
                    <mat-card-title>Medicine Counts</mat-card-title>
                    <mat-card-subtitle>
                        <small class="text-muted mb-0 mt-1">Prescribed, OTC, and Total Medicines</small>
                    </mat-card-subtitle>
                </mat-card-header>
                <hr class="mb-0">
                <mat-card-content>
                    <apx-chart #radialChart [series]="radialChartOptions.series" [chart]="radialChartOptions.chart"
                        [labels]="radialChartOptions.labels" [plotOptions]="radialChartOptions.plotOptions"></apx-chart>
                </mat-card-content>
            </mat-card>
        </div>

        <!-- Pie Chart for My Products -->
        <div class="col-md-6 mb-2">
            <mat-card class="example-card bg-white shadow h-100" appearance="outlined">
                <mat-card-header>
                    <mat-card-title>My Products Distribution</mat-card-title>
                    <mat-card-subtitle>
                        <small class="text-muted mb-0 mt-1">Breakdown of Product Types</small>
                    </mat-card-subtitle>
                </mat-card-header>
                <hr class="mb-0">
                <mat-card-content>
                    <apx-chart [series]="pieChartOptions.series" [chart]="pieChartOptions.chart"
                        [labels]="pieChartOptions.labels" [dataLabels]="pieChartOptions.dataLabels"
                        [legend]="pieChartOptions.legend"></apx-chart>
                </mat-card-content>
            </mat-card>
        </div>

        <!-- Bar Chart for Orders -->
        <div class="col-md-12 mb-2">
            <mat-card class="example-card bg-white shadow h-100" appearance="outlined">
                <mat-card-header>
                    <mat-card-title>Order Statistics</mat-card-title>
                    <mat-card-subtitle>
                        <small class="text-muted mb-0 mt-1">Order Status Breakdown</small>
                    </mat-card-subtitle>
                </mat-card-header>
                <hr class="mb-0">
                <mat-card-content>
                    <apx-chart [series]="barChartOptions.series" [chart]="barChartOptions.chart"
                        [xaxis]="barChartOptions.xaxis" [dataLabels]="barChartOptions.dataLabels"
                        [plotOptions]="barChartOptions.plotOptions"></apx-chart>
                </mat-card-content>
            </mat-card>
        </div>

        <div class="col-md-6">
            <mat-card class="example-card bg-white shadow h-100" appearance="outlined">
                <mat-card-header>
                    <mat-card-title>Accounts</mat-card-title>
                    <mat-card-subtitle>
                        <small class="text-muted mb-0 mt-1">Accounts Overview</small>
                    </mat-card-subtitle>
                </mat-card-header>
                <hr class="mb-0">
                <mat-card-content class="example-card-footer m-1">
                    <!-- <div id="chart"> -->
                    <apx-chart [series]="chartOptions.series" [chart]="chartOptions.chart"
                        [labels]="chartOptions.labels" [title]="chartOptions.title" [theme]="chartOptions.theme"
                        [responsive]="chartOptions.responsive"></apx-chart>
                    <!-- </div> -->
                </mat-card-content>
            </mat-card>
        </div>

        <div class="col-md-6">
            <mat-card class="example-card bg-white shadow h-100" appearance="outlined">
                <mat-card-header>
                    <mat-card-title>Orders</mat-card-title>
                    <mat-card-subtitle>
                        <small class="text-muted mb-0 mt-1">Orders Overview</small>
                    </mat-card-subtitle>
                </mat-card-header>
                <hr class="mb-0">
                <mat-card-content class="example-card-footer m-1">
                    <apx-chart [series]="ordersOptions.series" [chart]="ordersOptions.chart"
                        [dataLabels]="ordersOptions.dataLabels" [plotOptions]="ordersOptions.plotOptions"
                        [xaxis]="ordersOptions.xaxis" [colors]="ordersOptions.colors" [title]="ordersOptions.title"
                        [legend]="ordersOptions.legend"></apx-chart>
                </mat-card-content>
            </mat-card>
        </div>

        <!-- My Products Card -->
        <div class="col-md-6 mb-2 d-none">
            <mat-card class="example-card bg-white shadow h-100" appearance="outlined">
                <mat-card-header>
                    <mat-card-title>My Products</mat-card-title>
                    <mat-card-subtitle>
                        <small class="text-muted mb-0 mt-1">Products Manually Added by Me</small>
                    </mat-card-subtitle>
                </mat-card-header>
                <hr class="mb-0">
                <mat-card-content class="example-card-footer m-1">
                    <ul>
                        <li class="text-muted"> Total Products : {{medicineCountOfMyProduct?.totalProducts}} </li>
                        <li class="text-muted"> Total Medicines : {{medicineCountOfMyProduct?.totalMedicines}} </li>
                        <li class="text-muted"> Total Available Products:
                            {{medicineCountOfMyProduct?.availableProducts}}</li>
                        <li class="text-muted"> Total Unavailable Products :
                            {{medicineCountOfMyProduct?.unavailableProducts}} </li>
                        <li class="text-muted"> Total Inactive Medicine :
                            {{medicineCountOfMyProduct?.inactiveMedicines}} </li>
                        <li class="text-muted"> Total Discounted Products:
                            {{medicineCountOfMyProduct?.discountedProducts}}</li>
                        <li class="text-muted"> Total Managed Products :
                            {{medicineCountOfMyProduct?.totalManagedProducts}} </li>
                    </ul>
                </mat-card-content>
            </mat-card>
        </div>
    </div>

    <!-- My Medicines Table -->
    <div class="row my-3">
        <div class="col-md-12">
            <mat-card class="example-card bg-white shadow" appearance="outlined">
                <mat-card-header class="d-flex justify-content-between">
                    <mat-card-title class="d-flex">My Medicines</mat-card-title>
                    <button matButton="tonal" (click)="toggleView()">
                        {{ showAll ? 'Show Less' : 'View All' }}
                    </button>
                </mat-card-header>
                <hr>
                <mat-card-content class="text-muted m-3">
                    <table mat-table [dataSource]="dataSource" class="bg-white">
                        <ng-container *ngFor="let column of columns" [matColumnDef]="column.columnDef">
                            <th mat-header-cell *matHeaderCellDef>
                                {{column.header}}
                            </th>
                            <td mat-cell *matCellDef="let row">
                                <ng-container *ngIf="column.columnDef === 'showInApp'; else normalCell">
                                    <mat-icon [ngClass]="row.showInApp ? 'icon-yes' : 'icon-no'">
                                        {{ row.showInApp ? 'check' : 'close' }}
                                    </mat-icon>
                                </ng-container>
                                <ng-template #normalCell>
                                    {{ column.cell(row) }}
                                </ng-template>
                            </td>
                        </ng-container>
                        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                    </table>
                </mat-card-content>
            </mat-card>
        </div>
    </div>
</div>